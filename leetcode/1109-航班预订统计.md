# 1109. èˆªç­é¢„å®šç»Ÿè®¡
[åŸé¢˜é“¾æ¥ğŸ”—](https://leetcode-cn.com/problems/corporate-flight-bookings/)

è¿™é‡Œæœ‰ `n` ä¸ªèˆªç­ï¼Œå®ƒä»¬åˆ†åˆ«ä» `1 åˆ° n` è¿›è¡Œç¼–å·ã€‚

æœ‰ä¸€ä»½èˆªç­é¢„è®¢è¡¨ `bookings` ï¼Œè¡¨ä¸­ç¬¬ i æ¡é¢„è®¢è®°å½• $bookings[i] = [first_i, last_i, seats_i]$ æ„å‘³ç€åœ¨ä» $first_i$ åˆ° $last_i$ ï¼ˆåŒ…å« $first_i$ å’Œ $last_i$ ï¼‰çš„**æ¯ä¸ªèˆªç­**ä¸Šé¢„è®¢äº† $seats_i$ ä¸ªåº§ä½ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `answer`ï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯æ¯ä¸ªèˆªç­é¢„å®šçš„åº§ä½æ€»æ•°ã€‚

## è§£é¢˜æ€è·¯
### å·®åˆ†æ³•
 > å·®åˆ†æ•°ç»„æ˜¯å‰ç¼€æ•°ç»„çš„å¯¹åº”æ¦‚å¿µï¼Œå…¶å…³ç³»å¦‚ä¸‹ï¼š
 >
 > $$ å·®åˆ†æ•°ç»„\ \to\ æ±‚å‰ç¼€å’Œ\ \to \ åŸæ•°ç»„ $$
 > $$ å‰ç¼€å’Œæ•°ç»„\ \to\ æ±‚å·®åˆ†\ \to \ åŸæ•°ç»„ $$
 >
 > å¦‚æ•°ç»„ `[1,2,3,4,6,9,9]` çš„å·®åˆ†æ•°ç»„ä¸º `[1,1,1,1,2,3,0]` ï¼Œå‰ç¼€æ•°ç»„ä¸º `[1,3,6,10,16,25,34]`ã€‚

å¯¹äºæœ¬é¢˜ï¼Œ`bookings` ä¸­æ¯ä¸€ä¸ªæ•°ç»„å¯ä»¥ç†è§£ä¸ºå¯¹è¯¥åŒºåŸŸçš„æ‰¹é‡æ“ä½œï¼Œé‚£ä¹ˆè¡¨ç°åœ¨å·®åˆ†æ•°ç»„ä¸Šå°±æ˜¯é¦–ç«¯å…ƒç´ å¢åŠ  `num` ï¼Œæœ«ä½å…ƒç´ éšåçš„é¢†æ¥å…ƒç´ å‡å°‘ `num`ã€‚

å› æ­¤å¯ä»¥æ ¹æ® `bookings` ç›´æ¥æ„é€ å·®åˆ†æ•°ç»„ï¼Œå†å¯¹å·®åˆ†æ•°ç»„æ±‚å‰ç¼€å’Œå¾—åˆ°ç­”æ¡ˆã€‚

 > ä¸€ç§æ›´æ˜“äºç†è§£çš„æ€è·¯ï¼š[è½¬æ¢ä¸ºå…¬äº¤è½¦ä¸Šä¸‹è½¦äººæ•°é—®é¢˜ by é’æ ¼å„¿](https://leetcode-cn.com/problems/corporate-flight-bookings/solution/5118_hang-ban-yu-ding-tong-ji-by-user9081a/)

## ä»£ç å®ç°

**JavaScriptï¼š**
```js
/**
 * @param {number[][]} bookings
 * @param {number} n
 * @return {number[]}
 */
var corpFlightBookings = function(bookings, n) {
  let diffArray = new Array(n).fill(0)
  let res = [], sum = 0
  bookings.map(record => {
    diffArray[record[0] - 1] += record[2] // åŒºåŸŸå¤´
    if(record[1] < n) {
      diffArray[record[1]] -= record[2] // åŒºåŸŸå°¾
    }
  })
  for(diff of diffArray) {
    sum += diff
    res.push(sum)
  }
  return res
  // å¯ç®€åŒ–æ•°ç»„ä½¿ç”¨ ä½†ä¼šé™ä½å¯è¯»æ€§
  // for(let i = 1; i < n; i++) {
  //   diffArray[i] += diffArray[i - 1]
  // }
  // return diffArray
};
```

**Go:**
```go
func corpFlightBookings(bookings [][]int, n int) []int {
    res, diffArr := make([]int, n), make([]int, n)
    for _, arr := range bookings {
        diffArr[arr[0] - 1] = diffArr[arr[0] - 1] + arr[2]
        if arr[1] < n {
            diffArr[arr[1]] = diffArr[arr[1]] - arr[2]
        }
    }
    for i, sum := 0, 0; i < n; i++ {
        sum = sum + diffArr[i]
        res[i] = sum
    }
    return res
    // for i := 1; i < n; i++ {
    //     diffArr[i] = diffArr[i - 1] + diffArr[i]
    // }
    // return diffArr
}
```

## ç›¸å…³é¢˜ç›®
 - [1094. æ‹¼è½¦](./1094-æ‹¼è½¦.md)
 - [1450. åœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•°](./1450-åœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•°.md)
