# 31. ä¸‹ä¸€ä¸ªæ’åˆ—
[åŸé¢˜é“¾æ¥ğŸ”—](https://leetcode-cn.com/problems/next-permutation/)

å®ç°è·å– **ä¸‹ä¸€ä¸ªæ’åˆ—** çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼ˆå³ï¼Œç»„åˆå‡ºä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•´æ•°ï¼‰ã€‚

å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³**å‡åº**æ’åˆ—ï¼‰ã€‚

å¿…é¡» **åŸåœ°** ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚

## è§£é¢˜æ€è·¯
åˆ†æé¢˜æ„ï¼Œé¢˜ç›®å¯è§£é‡Šä¸ºï¼šå¯¹ä¸€ç»„æ•°å­—è¿›è¡Œæ’åˆ—ç»„åˆå¾—åˆ°ç›¸åº”çš„æ•°å­—åˆ—è¡¨ï¼Œå†å°†è¿™äº›æ•°å­—ä»å°åˆ°å¤§æ’åºæˆç¯å½¢åˆ—è¡¨ã€‚

è·å–ä¸‹ä¸€ä¸ªæ’åˆ—å°±æ˜¯è·å–æ¯”å½“å‰ç»„åˆæ•°å­—å¤§çš„ä¸‹ä¸€ä¸ªæ•°å­—ã€‚ä¾‹ï¼š

```
11234
11243
11324
11342
11423
...
11432
12134
...
43211
```

é—®é¢˜å…³é”®åœ¨äºå¦‚ä½•è·å–æ’åˆ—é¡ºåºã€‚ç›´æ¥æ’åˆ—ç»„åˆå¾—åˆ°å…¨æ’åˆ—åˆ—è¡¨è¿‡äºç®€å•ç²—æš´ï¼Œè‡ªç„¶ä¸æ˜¯æˆ‘ä»¬è¿½æ±‚çš„ç†æƒ³ç®—æ³•ã€‚

åˆ†æä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬è¦æ‰¾å‡ºå½“å‰æ•°å­—ä¸­å·¦è¾¹ `æœ€ä½ä½çš„è¾ƒå°é¡¹` å’Œå³è¾¹ `æœ€å°çš„è¾ƒå¤§é¡¹` è¿›è¡Œäº¤æ¢ï¼Œå†æ‰¾å‡ºå·¦è¾¹äº¤æ¢å¤„å¾€åçš„æ•°å­—çš„æœ€å°æ’åˆ—æ–¹å¼ã€‚å³ï¼š

 - 11432 --> `leftIndex = 1, rightIndex = 4` (äº¤æ¢è¿™ä¸¤é¡¹) --> 12431

 - å½“å‰æ•°å­—å¿…å®šæ¯”ä¸Šä¸€ä¸ªå¤§ï¼ŒleftIndex å³è¾¹çš„ç»„åˆä»å°åˆ°å¤§æ’åˆ—å¾—åˆ°å¤§äºä¸Šä¸€ä¸ªæ•°çš„æœ€å°æ•° --> 12134

æ•… `12431` ä¸‹ä¸€ä¸ªæ˜¯ `12134`ã€‚è€Œåœ¨åŸæ•°ç»„ä¸­ `leftIndex` çš„å³æ•°ç»„å¿…å®šæ˜¯ä¸€ä¸ª**é™åºæ•°ç»„**ï¼Œç”±æ­¤å¯ä»¥ç¡®å®š `leftIndex` çš„å®šä½æ–¹å¼ã€‚

`rightIndex` çš„å®šä½åˆ™æ˜¯åœ¨ `[leftIndex + 1, length - 1]` è¿™ä¸ªåŒºé—´å†…æ‰¾åˆ°æ»¡è¶³ `nums[rightIndex] > nums[leftIndex]` æ¡ä»¶çš„æœ€å° `nums[rightIndex]`ã€‚

æ•…æœ¬ç®—æ³•æµç¨‹ä¸ºï¼š

 - å€’åºéå†æ•°ç»„æ‰¾åˆ°æ»¡è¶³ `nums[leftIndex] < nums[leftIndex + 1]` æ¡ä»¶çš„ `leftIndex` ã€‚

 - è‹¥æ²¡æœ‰æ‰¾åˆ° `leftIndex`ï¼Œåˆ™è¯´æ˜æ•´ä¸ªæ•°ç»„ä¸ºé™åºï¼Œåº”é‡ç½®ä¸ºå‡åºæ•°ç»„ï¼Œç›´æ¥è·³è‡³æœ€åä¸€æ­¥å³å¯ã€‚

 - åœ¨åŒºé—´ `[leftIndex + 1, length - 1]` ä¸Šæ‰¾åˆ°å¤§äº `nums[leftIndex]` çš„æœ€å°å€¼å¯¹åº”çš„ä¸‹æ ‡ `rightIndex`ã€‚

 - äº¤æ¢ `leftIndex` å’Œ `rightIndex` å…ƒç´ å€¼ã€‚

 - å¯¹åŒºé—´ `[leftIndex + 1, length - 1]` è¿›è¡Œå‡åºæ’åˆ—ã€‚ç”±äºè¯¥åŒºé—´åŸä¸ºé™åºåŒºé—´ï¼Œæ•…æ­¤å¤„ç”¨åŒæŒ‡é’ˆè¿›è¡Œå­æ•°ç»„åè½¬å³å¯ã€‚

 #### å¤æ‚åº¦åˆ†æ
 - æ—¶é—´å¤æ‚åº¦ $O(n)$ ã€‚
 - ç©ºé—´å¤æ‚åº¦ $O(1)$ ã€‚

## ä»£ç å®ç°

**Goï¼š**
```go
func nextPermutation(nums []int)  {
    if len(nums) < 2 {
        return
    }
    leftIndex := len(nums) - 2
    for ; leftIndex >= 0 && nums[leftIndex] >= nums[leftIndex + 1]; leftIndex-- {}
    if leftIndex >= 0 {
        rightIndex := leftIndex + 1
        for rightIndex < len(nums) && nums[rightIndex] > nums[leftIndex] {
            rightIndex++
        }
        rightIndex--
        nums[leftIndex], nums[rightIndex] = nums[rightIndex], nums[leftIndex]
    }
    // åè½¬äº¤æ¢ä½ç½®ä¹‹åçš„æ•°ç»„
    left, right := leftIndex + 1, len(nums) - 1
    for left < right {
        nums[left], nums[right] = nums[right], nums[left]
        left++
        right--
    }
}
```
