# 0436.å¯»æ‰¾å³åŒºé—´
[åŸé¢˜é“¾æ¥ğŸ”—](https://leetcode-cn.com/problems/find-right-interval/)  

ç»™ä½ ä¸€ä¸ªåŒºé—´æ•°ç»„ `intervals` ï¼Œå…¶ä¸­ intervals[i] = [start<sub>i</sub>, end<sub>i</sub>] ï¼Œä¸”æ¯ä¸ª start<sub>i</sub> éƒ½ä¸åŒ ã€‚

åŒºé—´ `i` çš„**å³ä¾§åŒºé—´**å¯ä»¥è®°ä½œåŒºé—´ `j` ï¼Œå¹¶æ»¡è¶³ start<sub>j</sub> >= end<sub>i</sub> ï¼Œä¸” start<sub>j</sub> æœ€å°åŒ– ã€‚

è¿”å›ä¸€ä¸ªç”±æ¯ä¸ªåŒºé—´ `i` çš„**å³ä¾§åŒºé—´**çš„æœ€å°èµ·å§‹ä½ç½®ç»„æˆçš„æ•°ç»„ã€‚å¦‚æœæŸä¸ªåŒºé—´ `i` ä¸å­˜åœ¨å¯¹åº”çš„**å³ä¾§åŒºé—´**ï¼Œåˆ™ä¸‹æ ‡ `i` å¤„çš„å€¼è®¾ä¸º `-1` ã€‚

## è§£é¢˜æ€è·¯
é¢˜ç›®è¡¨è¿°æœ‰ç‚¹ä¸æ¸…æ¥šï¼Œå®é™…ä¸Šæƒ³è¡¨è¾¾çš„æ˜¯ï¼š

 - åŒºé—´`now`çš„å³åŒºé—´`target`å®šä¹‰ä¸ºï¼š`target[end] > now[start]`

OKï¼Œç°åœ¨æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™é“é¢˜ç›®ï¼ŒåŒºé—´æ•°ç»„`intervals`ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å«æœ‰å”¯ä¸€å€¼`start`ï¼Œæœ€ç»ˆç›®æ ‡æ˜¯æ ¹æ®å¤§å°æŸ¥æ‰¾æ•°ç»„å…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨äºŒåˆ†æ³•å®ŒæˆæŸ¥æ‰¾è¿‡ç¨‹ã€‚

ä¸ºäº†é˜²æ­¢å¯¹æ•°ç»„æ’åºåçš„ä¸‹æ ‡å˜åŒ–ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªhashMapè®°å½•ä¸‹å„å…ƒç´ å¯¹åº”çš„ä¸‹æ ‡ï¼Œå†è¿›è¡Œæ’åºï¼Œæœ€åç”¨äºŒåˆ†æ³•æ‰¾å‡ºå„è‡ªçš„å³åŒºé—´ã€‚

ç›¸å¯¹äºç®€å•äºŒåˆ†æ³•(å¦‚[0704.äºŒåˆ†æŸ¥æ‰¾](./leetcode/0704-äºŒåˆ†æŸ¥æ‰¾.md))ï¼Œæœ¬é¢˜åˆ¤æ–­æ¡ä»¶ä»`arr[middle]==target`å˜ä¸º`arr[middle]>=target`ï¼Œéœ€è¦é¢å¤–å¤„ç†ã€‚

### è§£ä¸€ï¼šäºŒåˆ†æ³•1
åœ¨**æ•°ç»„å‡åº**çš„å‰æä¸‹åˆ†ç±»è®¨è®ºï¼š

1. `arr[middle] < target`: æ­¤æ—¶ä¸ç®€å•äºŒåˆ†æ³•ç›¸åŒï¼Œ`start = middle + 1`

2. `arr[middle] == target`: ç”±äºå…ƒç´ å”¯ä¸€ï¼Œæ­¤æ—¶ä¸ç®€å•äºŒåˆ†æ³•ç›¸åŒï¼Œè¿”å›ç»“æœ`middle`

3. `arr[middle] > target`: middleæ»¡è¶³æ¡ä»¶ï¼Œæ‰€æ‰¾å…ƒç´ åº”ä½äº[start, middle]å†…ï¼Œè¿­ä»£å…¬å¼æ”¹ä¸º`end = middle`ã€‚
    ä¸ºäº†é˜²æ­¢æ— é™æœ¬è¿­ä»£é™·å…¥æ­»å¾ªç¯ï¼Œé™„åŠ åˆ¤æ–­æ¡ä»¶`end !== idx`
### è§£äºŒï¼šäºŒåˆ†æ³•2
å¯¹è§£ä¸€ä¼˜åŒ–ï¼Œä¿å­˜ä¸‹æ ‡æ—¶keyé€‰ä¸ºæ•°ç»„å…ƒç´ çš„`start`ï¼Œå³å¯åœ¨äºŒåˆ†æŸ¥æ‰¾ä¹‹å‰è¿›è¡ŒhashMapæŸ¥è¯¢ï¼Œå­˜åœ¨ç›¸ç­‰å€¼æ—¶ç›´æ¥è¾“å‡ºç»“æœã€‚

åŒæ—¶ç»™äºˆé»˜è®¤å€¼-1ï¼Œç®€åŒ–åˆ†æ”¯å¤„ç†ï¼›æ¯æ¬¡æ‰¾åˆ°åŒ¹é…å€¼æ—¶ç›´æ¥è¿›è¡Œè®°å½•ï¼Œç®€åŒ–äºŒåˆ†æŸ¥æ‰¾é€»è¾‘

## ä»£ç å®ç°
**JavaScriptï¼š**

è§£æ³•ä¸€ï¼š
```javascript
/**
 * @param {number[][]} intervals
 * @return {number[]}
 * runtime: 224ms
 */
var findRightInterval = function(intervals) {
    let res = [], start, end, target, hashMap = {}
    // å­˜å‚¨ä¸‹æ ‡
    intervals.map((item, index)=> {
        hashMap[item] = index
    })
    // å‡åº
    intervals.sort((arr1, arr2) => {
        return arr1[0] - arr2[0]
    })
    intervals.map((item, index) => {
        // æœ«ä½å…ƒç´ å¿…-1
        if(index === intervals.length - 1) {
            res[hashMap[item]] = -1
            return
        }
        start = index
        end = intervals.length - 1
        target = item[1]
        while(start <= end) {
            idx = Math.floor((start + end) / 2)
            if(target > intervals[idx][0]) {
                start = idx + 1;
            } else if(target < intervals[idx][0] && end !== idx) {
                end = idx
            } else {
                break
            }
        }
        if(start > intervals.length - 1) {
            res[hashMap[item]] = -1
            return
        }
        res[hashMap[item]] = (hashMap[intervals[idx]] === undefined) ? -1 : hashMap[intervals[idx]]
    })
    return res
};
```

è§£æ³•äºŒï¼š
```javascript
/**
 * @param {number[][]} intervals
 * @return {number[]}
 * runtime: 112ms
 */
var findRightInterval = function(intervals) {
    let res = [], start, end, target, hashMap = {}
    // å­˜å‚¨ä¸‹æ ‡
    intervals.map((item, index)=> {
        hashMap[item[0]] = index
    })
    // å‡åº
    intervals.sort((arr1, arr2) => {
        return arr1[0] - arr2[0]
    })
    intervals.map((item, index) => {
        // ä¸èƒ½ç›´æ¥åˆ¤æ–­hashMap[item[1]]ï¼Œå­˜åœ¨0
        res[hashMap[item[0]]] = hashMap[item[1]] !== undefined ? hashMap[item[1]] : -1
        // æœ«ä½å…ƒç´ æˆ–å­˜åœ¨ç›¸ç­‰
        if(index === intervals.length - 1 || (hashMap[item[1]] !== undefined)) {
            return
        }
        start = index
        end = intervals.length - 1
        target = item[1]
        while(start <= end) {
            idx = Math.floor((start + end) / 2)
            if(target > intervals[idx][0]) {
                start = idx + 1;
            } else if(target < intervals[idx][0]) {
                // æ¯æ¬¡åŒ¹é…æ»¡è¶³çš„ç»“æœç›´æ¥è®°å½•
                res[hashMap[item[0]]] = hashMap[intervals[idx][0]]
                end = idx - 1
            }
        }
    })
    return res
};
```