# 54. èžºæ—‹çŸ©é˜µ
[åŽŸé¢˜é“¾æŽ¥ðŸ”—](https://leetcode-cn.com/problems/spiral-matrix/)  

ç»™ä½ ä¸€ä¸ª m è¡Œ n åˆ—çš„çŸ©é˜µ matrix ï¼Œè¯·æŒ‰ç…§ é¡ºæ—¶é’ˆèžºæ—‹é¡ºåº ï¼Œè¿”å›žçŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

## è§£é¢˜æ€è·¯
### è§£ä¸€ï¼š
æ¨¡æ‹Ÿèžºæ—‹é€’è¿›ï¼Œé€šè¿‡ä¸€ä¸ªæžšä¸¾æˆ–å‡ ä¸ªå¸ƒå°”å€¼æŒ‡å®šå‰è¿›çš„æ–¹å‘ï¼Œåªéœ€è€ƒè™‘è¾¹ç•Œæ¡ä»¶å˜åŒ–å³å¯ï¼Œå¾ªçŽ¯æ¬¡æ•°ä¸ºäºŒç»´çŸ©é˜µçš„å…ƒç´ æ€»æ•°ã€‚

 - å½“åœ¨é¡¶ç«¯å‘å³éåŽ†ç»“æŸæ—¶ï¼Œæ–¹å‘æ”¹ä¸ºå‘ä¸‹ï¼Œè¿­ä»£å€¼æ”¹ä¸º `row`ï¼Œä¸”åŽ»é™¤å½“å‰é¦–è¡Œå…ƒç´ 
 - å½“åœ¨å³ä¾§å‘ä¸‹éåŽ†ç»“æŸæ—¶ï¼Œæ–¹å‘æ”¹ä¸ºå‘å·¦ï¼Œè¿­ä»£å€¼æ”¹ä¸º `column`ï¼Œä¸”åŽ»é™¤æœ€å³åˆ—å…ƒç´ 
 - å½“åœ¨ä½Žç«¯å‘å·¦éåŽ†ç»“æŸæ—¶ï¼Œæ–¹å‘æ”¹ä¸ºå‘ä¸Šï¼Œè¿­ä»£å€¼æ”¹ä¸º `row`ï¼Œä¸”åŽ»é™¤å½“å‰æœ«è¡Œå…ƒç´ 
 - å½“åœ¨å·¦ä¾§å‘ä¸ŠéåŽ†ç»“æŸæ—¶ï¼Œæ–¹å‘æ”¹ä¸ºå‘å³ï¼Œè¿­ä»£å€¼æ”¹ä¸º `column`ï¼Œä¸”åŽ»é™¤æœ€å·¦åˆ—å…ƒç´ 

### è§£äºŒï¼š
åœ¨è§£ä¸€çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥å‘çŽ°æ–¹å‘çš„å˜åŒ–çš„æŒ‰ç…§å›ºå®šè§„å¾‹è¿›è¡Œçš„ï¼Œå› æ­¤å¯ä»¥æ”¹ä¸ºä¸¤å±‚å¾ªçŽ¯ã€‚

 - æœ€å¤–å±‚æ£€æµ‹è¾“å‡ºå…ƒç´ æ•°é‡æ˜¯å¦è¶³å¤Ÿã€‚
 - å†…å±‚å››ä¸ªå¾ªçŽ¯åˆ†åˆ«è¡¨ç¤ºå››ä¸ªæ–¹å‘ï¼Œå‡å°‘ä¸å¿…è¦çš„å…ƒç´ å®šä¹‰ã€‚

#### å¤æ‚åº¦åˆ†æž
 - æ—¶é—´å¤æ‚åº¦ $O(nm)$ ï¼Œå³äºŒç»´çŸ©é˜µå…ƒç´ æ€»ä¸ªæ•°ã€‚
 - ç©ºé—´å¤æ‚åº¦ $O(1)$ ã€‚

## ä»£ç å®žçŽ°
**JavaScriptï¼š**

è§£æ³•ä¸€ï¼š
```javascript
/**
 * @param {number[][]} matrix
 * @return {number[]}
 */
var spiralOrder = function(matrix) {
  let row = 0, column = 0, count = matrix.length * matrix[0].length
  let rowUp = 0, rowDown = matrix.length - 1
  let columnLeft = 0, columnRight = matrix[0].length - 1
  let toRight = true, toDown = true, inRow = true
  let res = []
  while(count--) {
    res.push(matrix[row][column])
    if(inRow) {
      if(toRight) {
        column++
        if(column > columnRight) {
          column--
          rowUp++
          row++
          inRow = false
          toDown = true
        }
      } else {
        column--
        if(column < columnLeft) {
          column++
          rowDown--
          row--
          inRow = false
          toDown = false
        }
      }
    } else {
      if(toDown) {
        row++
        if(row > rowDown) {
          row--
          columnRight--
          column--
          inRow = true
          toRight = false
        }
      } else {
        row--
        if(row < rowUp) {
          row++
          columnLeft++
          column++
          inRow = true
          toRight = true
        }
      }
    }
  }
  return res
};
```

è§£æ³•äºŒï¼š
```javascript
/**
 * @param {number[][]} matrix
 * @return {number[]}
 */
var spiralOrder = function(matrix) {
  let row = 0, column = 0, count = matrix.length * matrix[0].length
  let top = 0, bottom = matrix.length - 1
  let left = 0, right = matrix[0].length - 1
  let res = []
  while(count > 0) {
    for(column = left; column <= right && count > 0; column++) {
      res.push(matrix[top][column])
      count--
    }
    top++
    for(row = top; row <= bottom && count > 0; row++) {
      res.push(matrix[row][right])
      count--
    }
    right--
    for(column = right; column >= left && count > 0; column--) {
      res.push(matrix[bottom][column])
      count--
    }
    bottom--
    for(row = bottom; row >= top && count > 0; row--) {
      res.push(matrix[row][left])
      count--
    }
    left++
  }
  return res
};
```

**Goï¼š**

è§£æ³•äºŒï¼š
```go
func spiralOrder(matrix [][]int) []int {
    top, bottom, left, right := 0, len(matrix) - 1, 0, len(matrix[0]) - 1
    res := make([]int, 0)
    count := (bottom + 1) * (right + 1)
    for count > 0 {
        for column := left; column <= right && count > 0; column++ {
            res = append(res, matrix[top][column])
            count--
        }
        top++
        for row := top; row <= bottom && count > 0; row++ {
            res = append(res, matrix[row][right])
            count--
        }
        right--
        for column := right; column >= left && count > 0; column-- {
            res = append(res, matrix[bottom][column])
            count--
        }
        bottom--
        for row := bottom; row >= top && count > 0; row-- {
            res = append(res, matrix[row][left])
            count--
        }
        left++
    }
    return res
}
```
